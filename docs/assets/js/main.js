"use strict";const btn=document.querySelector(".js-searchBtn"),rsltContainer=document.querySelector(".js-searchContainer"),favContainer=document.querySelector(".js-favContainer"),input=document.querySelector(".js-input");let clickedCard,results=[],favList=[];function handleSearch(){getData(),renderResults()}function getData(){const e=input.value;fetch("http://api.tvmaze.com/search/shows?q="+e).then((function(e){return e.json()})).then((function(e){results=e,listenToCards()}))}function renderResults(){for(let e=0;e<results.length;e++){let t="";for(let n of results)null===n.show.image?(t+=`<li class="card js-card" id="${[e++]}">`,t+=`<h3>${n.show.name}</h3>`,t+='<img src="//via.placeholder.com/210x296/f0ffff/00008b/?text=No+image+available"/>',t+="</li>"):(t+=`<li class="card js-card" id="${[e++]}">`,t+=`<h3>${n.show.name}</h3>`,t+=`<img src="${n.show.image.medium}"/>`,t+="</li>");rsltContainer.innerHTML=t}}function handleFav(e){clickedCard=parseInt(e.currentTarget.id);const t=favList.indexOf(clickedCard);-1===t?(favList.push(clickedCard),e.currentTarget.classList.add("favCard")):t>-1&&(favList.splice(t,1),e.currentTarget.classList.remove("favCard"))}function listenToCards(){const e=document.querySelectorAll(".js-card");for(const t of e)t.addEventListener("click",handleFav)}btn.addEventListener("click",handleSearch);